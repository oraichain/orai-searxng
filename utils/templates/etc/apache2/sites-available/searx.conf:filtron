# -*- coding: utf-8; mode: apache -*-

ProxyPreserveHost On

<Location ${FILTRON_URL_PATH} >

    Require all granted
    Order deny,allow
    Deny from all
    #Allow from fd00::/8 192.168.0.0/16 fe80::/10 127.0.0.0/8 ::1
    Allow from all

    ProxyPass http://${FILTRON_LISTEN}
    RequestHeader set X-Script-Name ${FILTRON_URL_PATH}

    # In Apache it seems, that setting HTTP_HOST header direct here does have no
    # effect.  I needed to set 'ProxyPreserveHost On' (see above).  HTTP_HOST is
    # needed by searx to render correct *Search URL* in the *Link* box and
    # *saved preference*.

    # RequestHeader set Host ${PUBLIC_HOST}

</Location>
